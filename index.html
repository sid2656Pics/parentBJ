<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>2015年父母来京旅行相册</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: #f5f5f5;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        h1 {
            text-align: center;
            color: #2c3e50;
            margin: 20px 0;
            font-size: 2em;
        }

        /* 分类标签样式 */
        .tabs {
            display: flex;
            justify-content: center;
            gap: 10px;
            margin: 20px 0;
            flex-wrap: wrap;
        }

        .tab {
            padding: 10px 25px;
            border: none;
            border-radius: 20px;
            background: #e0e0e0;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 14px;
            color: #333;
        }

        .tab.active {
            background: #2c3e50;
            color: white;
            transform: translateY(-2px);
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }

        /* 照片墙布局 */
        .gallery {
            display: grid;
            grid-template-columns: repeat(5, 1fr);
            gap: 15px;
            padding: 15px;
            min-height: 600px;
        }

        .photo-item {
            aspect-ratio: 1;
            background: #fff;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 3px 6px rgba(0,0,0,0.1);
            transition: transform 0.3s ease;
        }

        .photo-item:hover {
            transform: translateY(-5px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }

        .photo-item img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            cursor: zoom-in;
        }

        /* 分页样式 */
        .pagination {
            margin: 25px 0;
            display: flex;
            justify-content: center;
            gap: 10px;
        }

        .page-btn {
            padding: 8px 16px;
            border: none;
            border-radius: 4px;
            background: #2c3e50;
            color: white;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .page-btn:disabled {
            background: #95a5a6;
            cursor: not-allowed;
        }

        /* 模态框样式 */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.95);
            z-index: 1000;
            justify-content: center;
            align-items: center;
        }

        .modal.active {
            display: flex;
        }

        .modal-content {
            position: relative;
            width: 90%;
            max-width: 1000px;
            height: 80vh;
        }

        .modal-img {
            width: 100%;
            height: 100%;
            object-fit: contain;
            animation: fadeIn 0.3s ease;
        }

        /* 导航按钮 */
        .nav-btn {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            width: 50px;
            height: 50px;
            background: rgba(255,255,255,0.2);
            border: none;
            border-radius: 50%;
            cursor: pointer;
            transition: all 0.3s ease;
            z-index: 1001;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .nav-btn:hover {
            background: rgba(255,255,255,0.5);
            transform: translateY(-50%) scale(1.1);
        }

        .nav-btn.prev {
            left: 20px;
        }

        .nav-btn.next {
            right: 20px;
        }

        .close-btn {
            position: absolute;
            top: 20px;
            right: 20px;
            color: white;
            font-size: 36px;
            cursor: pointer;
            z-index: 1001;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
    </style>
    <link rel="stylesheet" href="css/all.min.css">
</head>
<body>
<div class="container">
    <h1>每日旅行相册</h1>
    <div class="tabs" id="tabs">
        <button class="tab active" onclick="switchDay(1)">优选照片</button>
        <button class="tab" onclick="switchDay(2)">20150627</button>
        <button class="tab" onclick="switchDay(3)">20150628</button>
        <button class="tab" onclick="switchDay(4)">20150629</button>
        <button class="tab" onclick="switchDay(5)">20150630</button>
    </div>

    <div class="gallery" id="gallery"></div>

    <div class="pagination" id="pagination">
        <button class="page-btn" id="firstPage" onclick="firstPage()">首页</button>
        <button class="page-btn" id="prevPage" onclick="prevPage()">上一页</button>
        <span class="page-info" id="pageInfo"></span>
        <button class="page-btn" id="nextPage" onclick="nextPage()">下一页</button>
        <button class="page-btn" id="lastPage" onclick="lastPage()">尾页</button>
    </div>
</div>

<!-- 图片查看模态框 -->
<div class="modal" id="modal">
    <span class="close-btn" onclick="closeModal()">&times;</span>
    <div class="modal-content">
        <button class="nav-btn prev" onclick="prevPhoto()">
            <i class="fas fa-chevron-left"></i>
        </button>
        <button class="nav-btn next" onclick="nextPhoto()">
            <i class="fas fa-chevron-right"></i>
        </button>
        <img class="modal-img" id="modalImg">
    </div>
</div>

<script>
    // 配置参数
    const PAGE_SIZE = 15; // 每页15张
    const DAYS = 5;       // 5个分类
    const PHOTOS_PER_DAY = 45; // 每天45张示例图片
    function stringToList(str, delimiter = ',', clean = true) {
      let arr = str.split(delimiter);
      if (clean) {
        arr = arr.map(item => item.trim()).filter(item => item);
      }
      return arr;
    }

    // 使用示例
    const str20150627 = `20150627/DSC_0001.JPG,
20150627/DSC_0002.JPG,
20150627/DSC_0003.JPG,
20150627/DSC_0004.JPG,
20150627/DSC_0005.JPG,
20150627/DSC_0006.JPG,
20150627/DSC_0007.JPG,
20150627/DSC_0008.JPG,
20150627/DSC_0009.JPG,
20150627/DSC_0010.JPG,
20150627/DSC_0011.JPG,
20150627/DSC_0012.JPG,
20150627/DSC_0013.JPG,
20150627/DSC_0014.JPG,
20150627/DSC_0015.JPG,
20150627/DSC_0016.JPG,
20150627/DSC_0017.JPG,
20150627/DSC_0018.JPG,
20150627/DSC_0019.JPG,
20150627/DSC_0020.JPG,
20150627/DSC_0021.JPG,
20150627/DSC_0022.JPG,
20150627/DSC_0023.JPG,
20150627/DSC_0024.JPG,
20150627/DSC_0025.JPG,
20150627/DSC_0026.JPG,
20150627/DSC_0027.JPG,
20150627/DSC_0028.JPG,
20150627/DSC_0029.JPG,
20150627/DSC_0030.JPG,
20150627/DSC_0031.JPG,
20150627/DSC_0032.JPG,
20150627/DSC_0033.JPG,
20150627/DSC_0034.JPG,
20150627/DSC_0035.JPG,
20150627/DSC_0036.JPG,
20150627/DSC_0037.JPG,
20150627/DSC_0038.JPG,
20150627/DSC_0039.JPG,
20150627/DSC_0040.JPG,
20150627/DSC_0041.JPG,
20150627/DSC_0042.JPG,
20150627/DSC_0043.JPG,
20150627/DSC_0044.JPG,
20150627/DSC_0045.JPG,
20150627/DSC_0046.JPG,
20150627/DSC_0047.JPG,
20150627/DSC_0048.JPG,
20150627/DSC_0049.JPG,
20150627/DSC_0050.JPG,
20150627/DSC_0051.JPG,
20150627/DSC_0052.JPG,
20150627/DSC_0053.JPG,
20150627/DSC_0054.JPG,
20150627/DSC_0055.JPG,
20150627/DSC_0056.JPG,
20150627/DSC_0057.JPG,
20150627/DSC_0058.JPG,
20150627/DSC_0059.JPG,
20150627/DSC_0060.JPG,
20150627/DSC_0061.JPG,
20150627/DSC_0062.JPG,
20150627/DSC_0063.JPG,
20150627/DSC_0064.JPG,
20150627/DSC_0065.JPG,
20150627/DSC_0066.JPG,
20150627/DSC_0067.JPG,
20150627/DSC_0068.JPG,
20150627/DSC_0069.JPG,
20150627/DSC_0070.JPG,
20150627/DSC_0071.JPG,
20150627/DSC_0072.JPG,
20150627/DSC_0073.JPG,
20150627/DSC_0074.JPG,
20150627/DSC_0075.JPG,
20150627/DSC_0076.JPG,
20150627/DSC_0077.JPG,
20150627/DSC_0078.JPG,
20150627/DSC_0079.JPG,
20150627/DSC_0080.JPG,
20150627/DSC_0081.JPG,
20150627/DSC_0083.JPG,
20150627/DSC_0084.JPG,
20150627/DSC_0085.JPG,
20150627/DSC_0086.JPG,
20150627/DSC_0087.JPG,
20150627/DSC_0088.JPG,
20150627/DSC_0089.JPG,
20150627/DSC_0090.JPG,
20150627/DSC_0091.JPG,
20150627/DSC_0092.JPG,
20150627/DSC_0093.JPG,
20150627/DSC_0094.JPG,
20150627/DSC_0095.JPG,
20150627/DSC_0096.JPG,
20150627/DSC_0097.JPG,
20150627/DSC_0098.JPG,
20150627/DSC_0099.JPG,
20150627/DSC_0100.JPG,
20150627/DSC_0102.JPG,
20150627/DSC_0103.JPG,
20150627/DSC_0104.JPG,
20150627/DSC_0106.JPG,
20150627/DSC_0107.JPG,
20150627/DSC_0108.JPG,
20150627/DSC_0109.JPG,
20150627/DSC_0110.JPG,
20150627/DSC_0111.JPG,
20150627/DSC_0112.JPG,
20150627/DSC_0113.JPG,
20150627/DSC_0114.JPG,
20150627/DSC_0115.JPG,
20150627/DSC_0116.JPG,
20150627/DSC_0117.JPG,
20150627/DSC_0118.JPG,
20150627/DSC_0119.JPG,
20150627/DSC_0120.JPG,
20150627/DSC_0121.JPG,
20150627/DSC_0122.JPG,
20150627/DSC_0123.JPG,
20150627/DSC_0124.JPG,
20150627/DSC_0125.JPG,
20150627/DSC_0126.JPG,
20150627/DSC_0127.JPG,
20150627/DSC_0128.JPG,
20150627/DSC_0129.JPG,
20150627/DSC_0130.JPG,
20150627/DSC_0132.JPG,
20150627/DSC_0133.JPG,
20150627/DSC_0134.JPG,
20150627/DSC_0135.JPG,
20150627/DSC_0136.JPG,
20150627/DSC_0137.JPG,
20150627/DSC_0138.JPG,
20150627/DSC_0139.JPG,
20150627/DSC_0140.JPG,
20150627/DSC_0141.JPG,
20150627/DSC_0142.JPG,
20150627/DSC_0143.JPG,
20150627/DSC_0144.JPG,
20150627/DSC_0145.JPG,
20150627/DSC_0146.JPG`;


    const str20150628 = `20150628/DSC_0001.JPG,
20150628/DSC_0002.JPG,
20150628/DSC_0003.JPG,
20150628/DSC_0004.JPG,
20150628/DSC_0005.JPG,
20150628/DSC_0006.JPG,
20150628/DSC_0007.JPG,
20150628/DSC_0008.JPG,
20150628/DSC_0009.JPG,
20150628/DSC_0010.JPG,
20150628/DSC_0011.JPG,
20150628/DSC_0012.JPG,
20150628/DSC_0013.JPG,
20150628/DSC_0014.JPG,
20150628/DSC_0015.JPG,
20150628/DSC_0016.JPG,
20150628/DSC_0017.JPG,
20150628/DSC_0018.JPG,
20150628/DSC_0019.JPG,
20150628/DSC_0020.JPG,
20150628/DSC_0021.JPG,
20150628/DSC_0022.JPG,
20150628/DSC_0023.JPG,
20150628/DSC_0024.JPG,
20150628/DSC_0025.JPG,
20150628/DSC_0026.JPG,
20150628/DSC_0027.JPG,
20150628/DSC_0028.JPG,
20150628/DSC_0029.JPG,
20150628/DSC_0030.JPG,
20150628/DSC_0031.JPG,
20150628/DSC_0032.JPG,
20150628/DSC_0033.JPG,
20150628/DSC_0034.JPG,
20150628/DSC_0035.JPG,
20150628/DSC_0036.JPG,
20150628/DSC_0037.JPG,
20150628/DSC_0038.JPG,
20150628/DSC_0039.JPG,
20150628/DSC_0040.JPG,
20150628/DSC_0041.JPG,
20150628/DSC_0042.JPG,
20150628/DSC_0043.JPG,
20150628/DSC_0044.JPG,
20150628/DSC_0045.JPG,
20150628/DSC_0046.JPG,
20150628/DSC_0047.JPG,
20150628/DSC_0048.JPG,
20150628/DSC_0049.JPG,
20150628/DSC_0050.JPG,
20150628/DSC_0051.JPG,
20150628/DSC_0052.JPG,
20150628/DSC_0053.JPG,
20150628/DSC_0054.JPG,
20150628/DSC_0055.JPG,
20150628/DSC_0056.JPG,
20150628/DSC_0057.JPG,
20150628/DSC_0058.JPG,
20150628/DSC_0059.JPG,
20150628/DSC_0060.JPG,
20150628/DSC_0061.JPG,
20150628/DSC_0062.JPG,
20150628/DSC_0063.JPG,
20150628/DSC_0064.JPG,
20150628/DSC_0065.JPG,
20150628/DSC_0066.JPG,
20150628/DSC_0067.JPG,
20150628/DSC_0068.JPG,
20150628/DSC_0069.JPG,
20150628/DSC_0070.JPG,
20150628/DSC_0073.JPG,
20150628/DSC_0074.JPG,
20150628/DSC_0075.JPG,
20150628/DSC_0076.JPG,
20150628/DSC_0077.JPG,
20150628/DSC_0078.JPG,
20150628/DSC_0079.JPG,
20150628/DSC_0080.JPG,
20150628/DSC_0081.JPG,
20150628/DSC_0082.JPG,
20150628/DSC_0083.JPG,
20150628/DSC_0084.JPG,
20150628/DSC_0085.JPG,
20150628/DSC_0086.JPG,
20150628/DSC_0087.JPG,
20150628/DSC_0088.JPG,
20150628/DSC_0089.JPG,
20150628/DSC_0090.JPG,
20150628/DSC_0091.JPG,
20150628/DSC_0092.JPG,
20150628/DSC_0093.JPG,
20150628/DSC_0094.JPG,
20150628/DSC_0095.JPG,
20150628/DSC_0096.JPG,
20150628/DSC_0104.JPG,
20150628/DSC_0105.JPG,
20150628/DSC_0106.JPG,
20150628/DSC_0107.JPG,
20150628/DSC_0108.JPG,
20150628/DSC_0109.JPG,
20150628/DSC_0110.JPG,
20150628/DSC_0111.JPG,
20150628/DSC_0112.JPG,
20150628/DSC_0113.JPG,
20150628/DSC_0114.JPG,
20150628/DSC_0115.JPG,
20150628/DSC_0116.JPG,
20150628/DSC_0117.JPG,
20150628/DSC_0118.JPG,
20150628/DSC_0119.JPG,
20150628/DSC_0120.JPG,
20150628/DSC_0121.JPG,
20150628/DSC_0122.JPG,
20150628/DSC_0123.JPG,
20150628/DSC_0124.JPG,
20150628/DSC_0125.JPG,
20150628/DSC_0126.JPG,
20150628/DSC_0127.JPG,
20150628/DSC_0128.JPG,
20150628/DSC_0129.JPG,
20150628/DSC_0130.JPG,
20150628/DSC_0131.JPG,
20150628/DSC_0132.JPG,
20150628/DSC_0133.JPG,
20150628/DSC_0134.JPG,
20150628/DSC_0135.JPG,
20150628/DSC_0136.JPG,
20150628/DSC_0137.JPG,
20150628/DSC_0138.JPG,
20150628/DSC_0139.JPG,
20150628/DSC_0140.JPG,
20150628/DSC_0141.JPG,
20150628/DSC_0142.JPG,
20150628/DSC_0143.JPG,
20150628/DSC_0144.JPG,
20150628/DSC_0145.JPG,
20150628/DSC_0146.JPG,
20150628/DSC_0147.JPG,
20150628/DSC_0148.JPG,
20150628/DSC_0149.JPG,
20150628/DSC_0150.JPG,
20150628/DSC_0151.JPG,
20150628/DSC_0152.JPG,
20150628/DSC_0153.JPG,
20150628/DSC_0154.JPG,
20150628/DSC_0155.JPG,
20150628/DSC_0156.JPG,
20150628/DSC_0157.JPG,
20150628/DSC_0158.JPG,
20150628/DSC_0159.JPG,
20150628/DSC_0160.JPG,
20150628/DSC_0161.JPG,
20150628/DSC_0162.JPG,
20150628/DSC_0163.JPG,
20150628/DSC_0164.JPG,
20150628/DSC_0165.JPG,
20150628/DSC_0166.JPG,
20150628/DSC_0171.JPG,
20150628/DSC_0172.JPG,
20150628/DSC_0173.JPG,
20150628/DSC_0174.JPG,
20150628/DSC_0175.JPG,
20150628/DSC_0176.JPG,
20150628/DSC_0179.JPG,
20150628/DSC_0180.JPG,
20150628/DSC_0181.JPG,
20150628/DSC_0182.JPG,
20150628/DSC_0183.JPG,
20150628/DSC_0184.JPG,
20150628/DSC_0185.JPG,
20150628/DSC_0186.JPG,
20150628/DSC_0187.JPG,
20150628/DSC_0188.JPG,
20150628/DSC_0189.JPG,
20150628/DSC_0190.JPG,
20150628/DSC_0191.JPG,
20150628/DSC_0192.JPG,
20150628/DSC_0193.JPG,
20150628/DSC_0194.JPG,
20150628/DSC_0195.JPG,
20150628/DSC_0196.JPG,
20150628/DSC_0197.JPG,
20150628/DSC_0198.JPG,
20150628/DSC_0199.JPG,
20150628/DSC_0200.JPG,
20150628/DSC_0201.JPG,
20150628/DSC_0202.JPG,
20150628/DSC_0203.JPG,
20150628/DSC_0204.JPG,
20150628/DSC_0205.JPG,
20150628/DSC_0206.JPG,
20150628/DSC_0207.JPG,
20150628/DSC_0208.JPG,
20150628/DSC_0209.JPG,
20150628/DSC_0210.JPG,
20150628/DSC_0211.JPG,
20150628/DSC_0212.JPG,
20150628/DSC_0213.JPG,
20150628/DSC_0214.JPG,
20150628/DSC_0215.JPG,
20150628/DSC_0216.JPG,
20150628/DSC_0217.JPG,
20150628/DSC_0218.JPG,
20150628/DSC_0219.JPG,
20150628/DSC_0220.JPG,
20150628/DSC_0221.JPG,
20150628/DSC_0222.JPG,
20150628/DSC_0223.JPG,
20150628/DSC_0224.JPG,
20150628/DSC_0225.JPG,
20150628/DSC_0226.JPG,
20150628/DSC_0227.JPG,
20150628/DSC_0228.JPG,
20150628/DSC_0229.JPG,
20150628/DSC_0230.JPG,
20150628/DSC_0231.JPG,
20150628/DSC_0232.JPG,
20150628/DSC_0233.JPG,
20150628/DSC_0234.JPG,
20150628/DSC_0235.JPG,
20150628/DSC_0236.JPG`;



    const str20150629 = `20150629/DSC_0238.JPG,
20150629/DSC_0239.JPG,
20150629/DSC_0240.JPG,
20150629/DSC_0241.JPG,
20150629/DSC_0242.JPG,
20150629/DSC_0243.JPG,
20150629/DSC_0244.JPG,
20150629/DSC_0245.JPG,
20150629/DSC_0246.JPG,
20150629/DSC_0247.JPG,
20150629/DSC_0248.JPG,
20150629/DSC_0249.JPG,
20150629/DSC_0250.JPG,
20150629/DSC_0251.JPG,
20150629/DSC_0252.JPG,
20150629/DSC_0253.JPG,
20150629/DSC_0254.JPG,
20150629/DSC_0255.JPG,
20150629/DSC_0256.JPG,
20150629/DSC_0257.JPG,
20150629/DSC_0258.JPG,
20150629/DSC_0259.JPG,
20150629/DSC_0260.JPG,
20150629/DSC_0261.JPG,
20150629/DSC_0262.JPG,
20150629/DSC_0263.JPG,
20150629/DSC_0264.JPG,
20150629/DSC_0265.JPG,
20150629/DSC_0266.JPG,
20150629/DSC_0267.JPG,
20150629/DSC_0268.JPG,
20150629/DSC_0269.JPG,
20150629/DSC_0270.JPG,
20150629/DSC_0271.JPG,
20150629/DSC_0272.JPG,
20150629/DSC_0273.JPG,
20150629/DSC_0274.JPG,
20150629/DSC_0275.JPG,
20150629/DSC_0276.JPG,
20150629/DSC_0277.JPG,
20150629/DSC_0278.JPG,
20150629/DSC_0279.JPG,
20150629/DSC_0280.JPG,
20150629/DSC_0281.JPG,
20150629/DSC_0282.JPG,
20150629/DSC_0283.JPG,
20150629/DSC_0284.JPG,
20150629/DSC_0285.JPG,
20150629/DSC_0286.JPG,
20150629/DSC_0287.JPG,
20150629/DSC_0288.JPG,
20150629/DSC_0289.JPG,
20150629/DSC_0290.JPG,
20150629/DSC_0291.JPG,
20150629/DSC_0292.JPG,
20150629/DSC_0293.JPG,
20150629/DSC_0294.JPG,
20150629/DSC_0295.JPG,
20150629/DSC_0296.JPG,
20150629/DSC_0297.JPG,
20150629/DSC_0298.JPG,
20150629/DSC_0299.JPG,
20150629/DSC_0300.JPG,
20150629/DSC_0301.JPG,
20150629/DSC_0302.JPG,
20150629/DSC_0303.JPG,
20150629/DSC_0304.JPG,
20150629/DSC_0305.JPG,
20150629/DSC_0306.JPG,
20150629/DSC_0307.JPG,
20150629/DSC_0308.JPG,
20150629/DSC_0309.JPG,
20150629/DSC_0310.JPG,
20150629/DSC_0311.JPG,
20150629/DSC_0312.JPG,
20150629/DSC_0313.JPG,
20150629/DSC_0314.JPG,
20150629/DSC_0315.JPG,
20150629/DSC_0316.JPG,
20150629/DSC_0317.JPG,
20150629/DSC_0318.JPG,
20150629/DSC_0319.JPG,
20150629/DSC_0320.JPG,
20150629/DSC_0321.JPG,
20150629/DSC_0322.JPG,
20150629/DSC_0323.JPG,
20150629/DSC_0324.JPG,
20150629/DSC_0325.JPG`;
    const str20150630 = `20150630/DSC_0327.JPG,
20150630/DSC_0328.JPG,
20150630/DSC_0329.JPG,
20150630/DSC_0330.JPG,
20150630/DSC_0331.JPG,
20150630/DSC_0332.JPG,
20150630/DSC_0333.JPG,
20150630/DSC_0334.JPG,
20150630/DSC_0335.JPG,
20150630/DSC_0336.JPG,
20150630/DSC_0337.JPG,
20150630/DSC_0338.JPG,
20150630/DSC_0339.JPG,
20150630/DSC_0340.JPG,
20150630/DSC_0341.JPG,
20150630/DSC_0342.JPG,
20150630/DSC_0343.JPG,
20150630/DSC_0344.JPG,
20150630/DSC_0345.JPG,
20150630/DSC_0346.JPG,
20150630/DSC_0347.JPG,
20150630/DSC_0348.JPG,
20150630/DSC_0349.JPG,
20150630/DSC_0350.JPG,
20150630/DSC_0351.JPG,
20150630/DSC_0352.JPG,
20150630/DSC_0353.JPG,
20150630/DSC_0354.JPG,
20150630/DSC_0355.JPG,
20150630/DSC_0356.JPG,
20150630/DSC_0357.JPG,
20150630/DSC_0358.JPG,
20150630/DSC_0359.JPG,
20150630/DSC_0360.JPG,
20150630/DSC_0361.JPG,
20150630/DSC_0362.JPG,
20150630/DSC_0363.JPG,
20150630/DSC_0364.JPG,
20150630/DSC_0365.JPG,
20150630/DSC_0366.JPG,
20150630/DSC_0367.JPG,
20150630/DSC_0368.JPG,
20150630/DSC_0369.JPG,
20150630/DSC_0370.JPG,
20150630/DSC_0371.JPG,
20150630/DSC_0372.JPG,
20150630/DSC_0373.JPG,
20150630/DSC_0374.JPG,
20150630/DSC_0375.JPG,
20150630/DSC_0376.JPG,
20150630/DSC_0377.JPG,
20150630/DSC_0378.JPG,
20150630/DSC_0379.JPG,
20150630/DSC_0380.JPG,
20150630/DSC_0381.JPG,
20150630/DSC_0382.JPG,
20150630/DSC_0383.JPG,
20150630/DSC_0384.JPG,
20150630/DSC_0385.JPG`;
    const strbest = `best/DSC_0002.JPG,
best/DSC_0006(1).JPG,
best/DSC_0006.JPG,
best/DSC_0033.JPG,
best/DSC_0039.JPG,
best/DSC_0043.JPG,
best/DSC_0047.JPG,
best/DSC_0055.JPG,
best/DSC_0056.JPG,
best/DSC_0058.JPG,
best/DSC_0060.JPG,
best/DSC_0065(1).JPG,
best/DSC_0065.JPG,
best/DSC_0070.JPG,
best/DSC_0078.JPG,
best/DSC_0088.JPG,
best/DSC_0094.JPG,
best/DSC_0106.JPG,
best/DSC_0112.JPG,
best/DSC_0125.JPG,
best/DSC_0127.JPG,
best/DSC_0139.JPG,
best/DSC_0141.JPG,
best/DSC_0151.JPG,
best/DSC_0161.JPG,
best/DSC_0173.JPG,
best/DSC_0185.JPG,
best/DSC_0200.JPG,
best/DSC_0210.JPG,
best/DSC_0221.JPG,
best/DSC_0228.JPG,
best/DSC_0230.JPG,
best/DSC_0234.JPG,
best/DSC_0240.JPG,
best/DSC_0242.JPG,
best/DSC_0257.JPG,
best/DSC_0260.JPG,
best/DSC_0291.JPG,
best/DSC_0294.JPG,
best/DSC_0300.JPG,
best/DSC_0311.JPG,
best/DSC_0315.JPG,
best/DSC_0322.JPG,
best/DSC_0325.JPG,
best/DSC_0328.JPG,
best/DSC_0331.JPG,
best/DSC_0359.JPG,
best/DSC_0384.JPG`;

    // 初始化数据
    const photoData = {};
    photoData[1] = stringToList(strbest);
    photoData[2] = stringToList(str20150627);
    photoData[3] = stringToList(str20150628);
    photoData[4] = stringToList(str20150629);
    photoData[5] = stringToList(str20150630);
<!--    for(let day = 1; day day<= DAYS; day++) {-->
<!--        photoData[day] = Array.from({length: PHOTOS_PER_DAY},-->
<!--            (_, i) => `https://picsum.photos/800/600?day=${day}&index=${i+1}`);-->
<!--    }-->

    // 状态管理
    let currentDay = 1;
    let currentPage = 1;
    let currentIndex = 0;
    const pageState = {1:1, 2:1, 3:1, 4:1, 5:1}; // 各天分页状态

    // 初始化
    function init() {
        renderGallery();
        updatePagination();
    }

    // 切换天数
    function switchDay(day) {
        currentDay = day;
        currentPage = pageState[day];

        // 更新标签状态
        document.querySelectorAll('.tab').forEach(tab =>
            tab.classList.remove('active'));
        event.target.classList.add('active');

        renderGallery();
        updatePagination();
    }

    // 渲染照片墙
    function renderGallery() {
        const start = (currentPage - 1) * PAGE_SIZE;
        const photos = photoData[currentDay].slice(start, start + PAGE_SIZE);

        document.getElementById('gallery').innerHTML = photos
            .map((url, idx) => `
                <div class="photo-item">
                    <img src="${url}"
                         loading="lazy"
                         onclick="openModal(${start + idx})">
                </div>
            `).join('');
    }

    // 更新分页
    function updatePagination() {
        const total = photoData[currentDay].length;
        const totalPages = Math.ceil(total / PAGE_SIZE);

        document.getElementById('pageInfo').textContent =
            `第 ${currentPage} 页 / 共 ${totalPages} 页`;

        // 更新按钮状态
        const disablePrev = currentPage === 1;
        const disableNext = currentPage === totalPages;
        document.getElementById('firstPage').disabled = disablePrev;
        document.getElementById('prevPage').disabled = disablePrev;
        document.getElementById('nextPage').disabled = disableNext;
        document.getElementById('lastPage').disabled = disableNext;
    }

    // 分页功能
    function firstPage() { changePage(1); }
    function prevPage() { changePage(currentPage - 1); }
    function nextPage() { changePage(currentPage + 1); }
    function lastPage() {
        const totalPages = Math.ceil(photoData[currentDay].length / PAGE_SIZE);
        changePage(totalPages);
    }

    function changePage(newPage) {
        const totalPages = Math.ceil(photoData[currentDay].length / PAGE_SIZE);
        currentPage = Math.max(1, Math.min(newPage, totalPages));
        pageState[currentDay] = currentPage; // 保存分页状态
        renderGallery();
        updatePagination();
    }

    // 图片查看功能
    function openModal(index) {
        currentIndex = index;
        document.getElementById('modal').classList.add('active');
        document.getElementById('modalImg').src = photoData[currentDay][currentIndex];
    }

    function closeModal() {
        document.getElementById('modal').classList.remove('active');
    }

    // 图片导航
    function prevPhoto() {
        currentIndex = Math.max(0, currentIndex - 1);
        checkPageChange();
        updateModal();
    }

    function nextPhoto() {
        currentIndex = Math.min(photoData[currentDay].length - 1, currentIndex + 1);
        checkPageChange();
        updateModal();
    }

    // 检查是否需要翻页
    function checkPageChange() {
        const newPage = Math.floor(currentIndex / PAGE_SIZE) + 1;
        if (newPage !== currentPage) {
            currentPage = newPage;
            pageState[currentDay] = currentPage;
            renderGallery();
            updatePagination();
        }
    }

    // 更新大图显示
    function updateModal() {
        const img = document.getElementById('modalImg');
        img.src = photoData[currentDay][currentIndex];
        img.style.animation = 'fadeIn 0.3s';
    }

    // 键盘控制
    document.addEventListener('keydown', (e) => {
        if (document.getElementById('modal').classList.contains('active')) {
            switch(e.key) {
                case 'ArrowLeft': prevPhoto(); break;
                case 'ArrowRight': nextPhoto(); break;
                case 'Escape': closeModal(); break;
            }
        }
    });

    // 初始化
    init();
</script>
</body>
</html>